{"ast":null,"code":"import _classCallCheck from\"/Users/danieliuskalinin/Desktop/face-detect/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/danieliuskalinin/Desktop/face-detect/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/danieliuskalinin/Desktop/face-detect/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/danieliuskalinin/Desktop/face-detect/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import ParticlesBg from'particles-bg';import Sigin from\"./components/Sigin/Signin\";import Register from\"./components/Register/Register\";import FaceRecognition from\"./components/FaceRecognition/FaceRecognition\";import Navigation from\"./components/Navigation/Navigation\";import Logo from\"./components/Logo/Logo\";import Rank from\"./components/Rank/Rank\";import ImageLinkForm from\"./components/ImageLinkForm/ImageLinkForm\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var USER_ID='dejavudaniel';var PAT='5353881fbd5b446c8a1ab1e2279ff0db';var APP_ID='face-detect';var MODEL_ID='face-detection';var MODEL_VERSION_ID='6dc7e46bc9124c5c8824be4822abe105';var imageGlobal='';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.calculateFaceLocation=function(data){var clarifaiFace=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('inputimage');var width=Number(image.width);var height=Number(image.height);return{leftCol:clarifaiFace.left_col*width,topRow:clarifaiFace.top_row*height,rightCol:width-clarifaiFace.right_col*width,bottomRow:height-clarifaiFace.bottom_row*height};};_this.displayFacebox=function(box){console.log(box);_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});imageGlobal=event.target.value;return imageGlobal;};_this.onButtonSubmit=function(){_this.setState({IMAGE_URL:_this.state.input});var raw=JSON.stringify({\"user_app_id\":{\"user_id\":USER_ID,\"app_id\":APP_ID},\"inputs\":[{\"data\":{\"image\":{\"url\":imageGlobal}}}]});var requestOptions={method:'POST',headers:{'Accept':'application/json','Authorization':'Key '+PAT},body:raw};fetch(\"https://api.clarifai.com/v2/models/\"+MODEL_ID+\"/versions/\"+MODEL_VERSION_ID+\"/outputs\",requestOptions).then(function(response){return response.json();}).then(function(result){return _this.displayFacebox(_this.calculateFaceLocation(result));}).catch(function(error){return console.log('error',error);});};_this.onRouteChange=function(route){_this.setState({route:route});};_this.state={input:'',IMAGE_URL:'',box:{},route:'signin'};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navigation,{onRouteChange:this.onRouteChange}),this.state.route==='home'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonSubmit:this.onButtonSubmit}),/*#__PURE__*/_jsx(FaceRecognition,{box:this.state.box,IMAGE_URL:this.state.IMAGE_URL})]}):this.state.route==='signin'?/*#__PURE__*/_jsx(Sigin,{onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsx(Register,{onRouteChange:this.onRouteChange}),/*#__PURE__*/_jsx(ParticlesBg,{color:\"#149df2\",num:300,type:\"cobweb\",bg:true})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","ParticlesBg","Sigin","Register","FaceRecognition","Navigation","Logo","Rank","ImageLinkForm","USER_ID","PAT","APP_ID","MODEL_ID","MODEL_VERSION_ID","imageGlobal","App","calculateFaceLocation","data","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFacebox","box","console","log","setState","onInputChange","event","input","target","value","onButtonSubmit","IMAGE_URL","state","raw","JSON","stringify","requestOptions","method","headers","body","fetch","then","response","json","result","catch","error","onRouteChange","route"],"sources":["/Users/danieliuskalinin/Desktop/face-detect/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport ParticlesBg from 'particles-bg'\nimport Sigin from \"./components/Sigin/Signin\";\nimport Register from \"./components/Register/Register\";\nimport FaceRecognition from \"./components/FaceRecognition/FaceRecognition\";\nimport Navigation from \"./components/Navigation/Navigation\";\nimport Logo from \"./components/Logo/Logo\";\nimport Rank from \"./components/Rank/Rank\";\nimport ImageLinkForm from \"./components/ImageLinkForm/ImageLinkForm\";\nimport './App.css';\n\n\nconst USER_ID = 'dejavudaniel';\nconst PAT = '5353881fbd5b446c8a1ab1e2279ff0db';\nconst APP_ID = 'face-detect';\nconst MODEL_ID = 'face-detection';\nconst MODEL_VERSION_ID = '6dc7e46bc9124c5c8824be4822abe105';\n\n\n\nlet imageGlobal = '';\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            input: '',\n            IMAGE_URL: '',\n            box: {},\n            route: 'signin',\n        }\n    }\n\n    calculateFaceLocation = (data) => {\n        const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n        const image = document.getElementById('inputimage');\n        const width = Number(image.width);\n        const height = Number(image.height);\n        return {\n            leftCol: clarifaiFace.left_col * width,\n            topRow: clarifaiFace.top_row * height,\n            rightCol: width - (clarifaiFace.right_col * width),\n            bottomRow: height - (clarifaiFace.bottom_row * height)\n        }\n    }\n\n    displayFacebox = (box) => {\n        console.log(box);\n        this.setState({ box: box });\n    }\n\n\n    onInputChange = (event) => {\n        this.setState({ input: event.target.value });\n        imageGlobal = event.target.value;\n        return imageGlobal\n    }\n\n\n\n    onButtonSubmit = () => {\n        this.setState({ IMAGE_URL: this.state.input });\n\n        const raw = JSON.stringify({\n            \"user_app_id\": {\n                \"user_id\": USER_ID,\n                \"app_id\": APP_ID\n            },\n            \"inputs\": [\n                {\n                    \"data\": {\n                        \"image\": {\n                            \"url\": imageGlobal\n                        }\n\n                    }\n                }\n            ]\n        });\n\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Authorization': 'Key ' + PAT\n            },\n            body: raw\n        };\n\n        fetch(\"https://api.clarifai.com/v2/models/\" + MODEL_ID + \"/versions/\" + MODEL_VERSION_ID + \"/outputs\", requestOptions)\n            .then(response => response.json())\n            .then(result => this.displayFacebox(this.calculateFaceLocation(result)))\n            .catch(error => console.log('error', error));\n\n\n\n    }\n\n    onRouteChange = (route) => {\n        this.setState({ route: route })\n    }\n\n\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Navigation onRouteChange={this.onRouteChange} />\n                {this.state.route === 'home'\n                    ? <div>\n                        <Logo />\n                        <Rank />\n                        <ImageLinkForm onInputChange={this.onInputChange} onButtonSubmit={this.onButtonSubmit} />\n                        <FaceRecognition box={this.state.box} IMAGE_URL={this.state.IMAGE_URL} />\n                    </div>\n                    : (\n                        this.state.route === 'signin'\n                        ? <Sigin onRouteChange={this.onRouteChange} />\n                        : <Register onRouteChange={this.onRouteChange} />\n                    )\n                }\n                <ParticlesBg color=\"#149df2\" num={300} type=\"cobweb\" bg={true} />\n            </div>\n        );\n    }\n} export default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}